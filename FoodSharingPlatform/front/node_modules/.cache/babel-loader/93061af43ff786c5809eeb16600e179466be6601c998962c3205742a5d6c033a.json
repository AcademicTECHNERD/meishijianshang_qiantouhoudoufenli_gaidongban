{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport default {\n  data: function data() {\n    return {\n      dialogVisible: false,\n      ruleForm: {},\n      user: {},\n      heads: {\n        \"headLogoutFontHoverColor\": \"#fff\",\n        \"headFontSize\": \"20px\",\n        \"headUserInfoFontColor\": \"rgba(162, 171, 182, 1)\",\n        \"headBoxShadow\": \"\",\n        \"headTitleImgHeight\": \"44px\",\n        \"headLogoutFontHoverBgColor\": \"#333\",\n        \"headFontColor\": \"rgba(162, 171, 182, 1)\",\n        \"headTitleImg\": false,\n        \"headHeight\": \"50px\",\n        \"headTitleImgBorderRadius\": \"22px\",\n        \"headTitleImgUrl\": \"http://codegen.caihongy.cn/20201021/cc7d45d9c8164b58b18351764eba9be1.jpg\",\n        \"headBgColor\": \"#35404D\",\n        \"headTitleImgBoxShadow\": \"0 1px 6px #444\",\n        \"headLogoutFontColor\": \"rgba(162, 171, 182, 1)\",\n        \"headUserInfoFontSize\": \"16px\",\n        \"headTitleImgWidth\": \"44px\",\n        \"headTitleStyle\": \"1\",\n        \"headLogoutFontSize\": \"16px\"\n      }\n    };\n  },\n  created: function created() {\n    this.setHeaderStyle();\n  },\n  mounted: function mounted() {\n    var _this = this;\n    var sessionTable = this.$storage.get(\"sessionTable\");\n    this.$http({\n      url: sessionTable + '/session',\n      method: \"get\"\n    }).then(function (_ref) {\n      var data = _ref.data;\n      if (data && data.code === 0) {\n        _this.user = data.data;\n      } else {\n        var message = _this.$message;\n        message.error(data.msg);\n      }\n    });\n  },\n  methods: {\n    goToBackend: function goToBackend() {\n      window.location.href = 'http://localhost:8081/#/index';\n    },\n    onLogout: function onLogout() {\n      var storage = this.$storage;\n      var router = this.$router;\n      storage.remove(\"Token\");\n      router.replace({\n        name: \"login\"\n      });\n    },\n    onIndexTap: function onIndexTap() {\n      window.location.href = \"\".concat(this.$base.indexUrl);\n    },\n    setHeaderStyle: function setHeaderStyle() {\n      var _this2 = this;\n      this.$nextTick(function () {\n        document.querySelectorAll('.navbar .right-menu .logout').forEach(function (el) {\n          el.addEventListener(\"mouseenter\", function (e) {\n            e.stopPropagation();\n            el.style.backgroundColor = _this2.heads.headLogoutFontHoverBgColor;\n            el.style.color = _this2.heads.headLogoutFontHoverColor;\n          });\n          el.addEventListener(\"mouseleave\", function (e) {\n            e.stopPropagation();\n            el.style.backgroundColor = \"transparent\";\n            el.style.color = _this2.heads.headLogoutFontColor;\n          });\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","dialogVisible","ruleForm","user","heads","created","setHeaderStyle","mounted","_this","sessionTable","$storage","get","$http","url","method","then","_ref","code","message","$message","error","msg","methods","goToBackend","window","location","href","onLogout","storage","router","$router","remove","replace","name","onIndexTap","concat","$base","indexUrl","_this2","$nextTick","document","querySelectorAll","forEach","el","addEventListener","e","stopPropagation","style","backgroundColor","headLogoutFontHoverBgColor","color","headLogoutFontHoverColor","headLogoutFontColor"],"sources":["src/components/index/IndexHeader.vue"],"sourcesContent":["<template>\r\n\t<!-- <el-header>\r\n\t\t<el-menu background-color=\"#00c292\" text-color=\"#FFFFFF\" active-text-color=\"#FFFFFF\" mode=\"horizontal\">\r\n\t\t\t<div class=\"fl title\">{{this.$project.projectName}}</div>\r\n\t\t\t<div class=\"fr logout\" style=\"display:flex;\">\r\n\t\t\t\t<el-menu-item index=\"3\">\r\n\t\t\t\t\t<div>{{this.$storage.get('role')}} {{this.$storage.get('adminName')}}</div>\r\n\t\t\t\t</el-menu-item>\r\n\t\t\t\t<el-menu-item @click=\"onLogout\" index=\"2\">\r\n\t\t\t\t\t<div>退出登录</div>\r\n\t\t\t\t</el-menu-item>\r\n\t\t\t</div>\r\n\t\t</el-menu>\r\n\t</el-header> -->\r\n\r\n\t<div class=\"navbar\"\r\n\t\t:style=\"{ backgroundColor: heads.headBgColor, height: heads.headHeight, boxShadow: heads.headBoxShadow, lineHeight: heads.headHeight }\">\r\n\t\t<div class=\"title-menu\" :style=\"{ justifyContent: heads.headTitleStyle == '1' ? 'flex-start' : 'center' }\">\r\n\t\t\t<el-image v-if=\"heads.headTitleImg\" class=\"title-img\"\r\n\t\t\t\t:style=\"{ width: heads.headTitleImgWidth, height: heads.headTitleImgHeight, boxShadow: heads.headTitleImgBoxShadow, borderRadius: heads.headTitleImgBorderRadius }\"\r\n\t\t\t\t:src=\"heads.headTitleImgUrl\" fit=\"cover\"></el-image>\r\n\t\t\t<div class=\"title-name\" :style=\"{ color: heads.headFontColor, fontSize: heads.headFontSize }\">\r\n\t\t\t\t{{ this.$project.projectName }}</div>\r\n\t\t</div>\r\n\t\t<div class=\"right-menu\">\r\n\t\t\t<div class=\"user-info\" :style=\"{ color: heads.headUserInfoFontColor, fontSize: heads.headUserInfoFontSize }\">\r\n\t\t\t\t{{ this.$storage.get('role') }} {{ this.$storage.get('adminName') }}</div>\r\n\t\t\t<div class=\"logout\" :style=\"{ color: heads.headLogoutFontColor, fontSize: heads.headLogoutFontSize }\"\r\n\t\t\t\t@click=\"onIndexTap\">退出到前台</div>\r\n\t\t\t<div class=\"logout\" :style=\"{ color: heads.headLogoutFontColor, fontSize: heads.headLogoutFontSize }\"\r\n\t\t\t\t@click=\"onLogout\">退出登录</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialogVisible: false,\r\n\t\t\truleForm: {},\r\n\t\t\tuser: {},\r\n\t\t\theads: { \"headLogoutFontHoverColor\": \"#fff\", \"headFontSize\": \"20px\", \"headUserInfoFontColor\": \"rgba(162, 171, 182, 1)\", \"headBoxShadow\": \"\", \"headTitleImgHeight\": \"44px\", \"headLogoutFontHoverBgColor\": \"#333\", \"headFontColor\": \"rgba(162, 171, 182, 1)\", \"headTitleImg\": false, \"headHeight\": \"50px\", \"headTitleImgBorderRadius\": \"22px\", \"headTitleImgUrl\": \"http://codegen.caihongy.cn/20201021/cc7d45d9c8164b58b18351764eba9be1.jpg\", \"headBgColor\": \"#35404D\", \"headTitleImgBoxShadow\": \"0 1px 6px #444\", \"headLogoutFontColor\": \"rgba(162, 171, 182, 1)\", \"headUserInfoFontSize\": \"16px\", \"headTitleImgWidth\": \"44px\", \"headTitleStyle\": \"1\", \"headLogoutFontSize\": \"16px\" },\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.setHeaderStyle()\r\n\t},\r\n\tmounted() {\r\n\t\tlet sessionTable = this.$storage.get(\"sessionTable\")\r\n\t\tthis.$http({\r\n\t\t\turl: sessionTable + '/session',\r\n\t\t\tmethod: \"get\"\r\n\t\t}).then(({\r\n\t\t\tdata\r\n\t\t}) => {\r\n\t\t\tif (data && data.code === 0) {\r\n\t\t\t\tthis.user = data.data;\r\n\t\t\t} else {\r\n\t\t\t\tlet message = this.$message\r\n\t\t\t\tmessage.error(data.msg);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tgoToBackend() {\r\n      window.location.href = 'http://localhost:8081/#/index'\r\n    },\r\n\t\tonLogout() {\r\n\t\t\tlet storage = this.$storage\r\n\t\t\tlet router = this.$router\r\n\t\t\tstorage.remove(\"Token\");\r\n\t\t\trouter.replace({\r\n\t\t\t\tname: \"login\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tonIndexTap() {\r\n\t\t\twindow.location.href = `${this.$base.indexUrl}`\r\n\t\t},\r\n\t\tsetHeaderStyle() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tdocument.querySelectorAll('.navbar .right-menu .logout').forEach(el => {\r\n\t\t\t\t\tel.addEventListener(\"mouseenter\", e => {\r\n\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\tel.style.backgroundColor = this.heads.headLogoutFontHoverBgColor\r\n\t\t\t\t\t\tel.style.color = this.heads.headLogoutFontHoverColor\r\n\t\t\t\t\t})\r\n\t\t\t\t\tel.addEventListener(\"mouseleave\", e => {\r\n\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\tel.style.backgroundColor = \"transparent\"\r\n\t\t\t\t\t\tel.style.color = this.heads.headLogoutFontColor\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.navbar {\r\n\theight: 60px;\r\n\tline-height: 60px;\r\n\twidth: 100%;\r\n\tpadding: 0 34px;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: #ff00ff;\r\n\tposition: relative;\r\n\tz-index: 111;\r\n\r\n\t.right-menu {\r\n\t\tposition: absolute;\r\n\t\tright: 34px;\r\n\t\ttop: 0;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\tz-index: 111;\r\n\r\n\t\t.user-info {\r\n\t\t\tfont-size: 16px;\r\n\t\t\tcolor: red;\r\n\t\t\tpadding: 0 12px;\r\n\t\t}\r\n\r\n\t\t.logout {\r\n\t\t\tfont-size: 16px;\r\n\t\t\tcolor: red;\r\n\t\t\tpadding: 0 12px;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.title-menu {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t\t.title-img {\r\n\t\t\twidth: 44px;\r\n\t\t\theight: 44px;\r\n\t\t\tborder-radius: 22px;\r\n\t\t\tbox-shadow: 0 1px 6px #444;\r\n\t\t\tmargin-right: 16px;\r\n\t\t}\r\n\r\n\t\t.title-name {\r\n\t\t\tfont-size: 24px;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-weight: 700;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// .el-header .fr {\r\n// \tfloat: right;\r\n// }\r\n\r\n// .el-header .fl {\r\n// \tfloat: left;\r\n// }\r\n\r\n// .el-header {\r\n// \twidth: 100%;\r\n// \tcolor: #333;\r\n// \ttext-align: center;\r\n// \tline-height: 60px;\r\n// \tpadding: 0;\r\n// \tz-index: 99;\r\n// }\r\n\r\n// .logo {\r\n// \twidth: 60px;\r\n// \theight: 60px;\r\n// \tmargin-left: 70px;\r\n// }\r\n\r\n// .avator {\r\n// \twidth: 40px;\r\n// \theight: 40px;\r\n// \tbackground: #ffffff;\r\n// \tborder-radius: 50%;\r\n// }\r\n\r\n// .title {\r\n// \tcolor: #ffffff;\r\n// \tfont-size: 20px;\r\n// \tfont-weight: bold;\r\n// \tmargin-left: 20px;\r\n// }</style>\r\n"],"mappings":";;;;;;;AAqCA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,aAAA;MACAC,QAAA;MACAC,IAAA;MACAC,KAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,IAAAC,YAAA,QAAAC,QAAA,CAAAC,GAAA;IACA,KAAAC,KAAA;MACAC,GAAA,EAAAJ,YAAA;MACAK,MAAA;IACA,GAAAC,IAAA,WAAAC,IAAA,EAEA;MAAA,IADAhB,IAAA,GAAAgB,IAAA,CAAAhB,IAAA;MAEA,IAAAA,IAAA,IAAAA,IAAA,CAAAiB,IAAA;QACAT,KAAA,CAAAL,IAAA,GAAAH,IAAA,CAAAA,IAAA;MACA;QACA,IAAAkB,OAAA,GAAAV,KAAA,CAAAW,QAAA;QACAD,OAAA,CAAAE,KAAA,CAAApB,IAAA,CAAAqB,GAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACAC,MAAA,CAAAC,QAAA,CAAAC,IAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MACA,IAAAC,OAAA,QAAAlB,QAAA;MACA,IAAAmB,MAAA,QAAAC,OAAA;MACAF,OAAA,CAAAG,MAAA;MACAF,MAAA,CAAAG,OAAA;QACAC,IAAA;MACA;IACA;IACAC,UAAA,WAAAA,WAAA;MACAV,MAAA,CAAAC,QAAA,CAAAC,IAAA,MAAAS,MAAA,MAAAC,KAAA,CAAAC,QAAA;IACA;IACA/B,cAAA,WAAAA,eAAA;MAAA,IAAAgC,MAAA;MACA,KAAAC,SAAA;QACAC,QAAA,CAAAC,gBAAA,gCAAAC,OAAA,WAAAC,EAAA;UACAA,EAAA,CAAAC,gBAAA,yBAAAC,CAAA;YACAA,CAAA,CAAAC,eAAA;YACAH,EAAA,CAAAI,KAAA,CAAAC,eAAA,GAAAV,MAAA,CAAAlC,KAAA,CAAA6C,0BAAA;YACAN,EAAA,CAAAI,KAAA,CAAAG,KAAA,GAAAZ,MAAA,CAAAlC,KAAA,CAAA+C,wBAAA;UACA;UACAR,EAAA,CAAAC,gBAAA,yBAAAC,CAAA;YACAA,CAAA,CAAAC,eAAA;YACAH,EAAA,CAAAI,KAAA,CAAAC,eAAA;YACAL,EAAA,CAAAI,KAAA,CAAAG,KAAA,GAAAZ,MAAA,CAAAlC,KAAA,CAAAgD,mBAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}